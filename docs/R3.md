## 📦 FLUTTER PROJECT STRUCTURE

The APP-OINT codebase uses a clean, scalable, and modular Flutter structure. The layout is aligned with Codex development workflows and VS Code support via GitHub Codespaces.

### 📁 Root Structure

```plaintext
.
├── lib/
│   ├── main.dart
│   ├── core/                  # Core services: theme, routing, DI, logging
│   ├── features/              # All user-facing features grouped by domain
│   ├── shared/                # Shared components, widgets, models
│   └── utils/                 # Utility helpers (e.g., time, format, validation)
├── pubspec.yaml              # All dependencies
├── README.md
├── .gitignore
├── .codex_init               # Codex integration anchor
├── docs/                     # System specs (R1–R4)
```

⸻

🧱 DIRECTORY LAYOUT & CONVENTIONS

/lib/core/
•theme/ – App-wide color schemes, text styles, dark/light themes
•routes/ – Centralized route management (GoRouter)
•services/ – Dependency-injected services (auth, session, analytics, etc.)
•di.dart – Global service locator setup using get_it

/lib/features/

Modular folders per domain, for example:
•auth/ – login, signup, forgot password, phone verification
•meetings/ – create, edit, join, invite, cancel meetings
•profile/ – user profile info, preferences, timezones
•business_dashboard/ – business tools, analytics, availability
•admin_panel/ – platform analytics, role management, audit logs

Each domain follows:

└── feature_name/
    ├── data/
    │   ├── models/
    │   ├── sources/ (local/remote)
    ├── logic/ (bloc|cubit|controller)
    └── ui/
        ├── pages/
        └── widgets/

/lib/shared/
•widgets/ – Reusable UI components
•models/ – Shared models across features
•extensions/ – Dart extension methods

⸻

✅ CODING STANDARDS
•State Management: flutter_bloc (preferred) or Riverpod
•Routing: go_router
•Design System: Material 3 + Cupertino for iOS parity
•i18n: flutter_localizations, 32 languages
•Linter: very_good_analysis

⸻

🧪 TESTING CONVENTIONS
•Unit tests per feature in /test/features/<feature_name>/
•Shared mocks in /test/shared/
•Uses mocktail + bloc_test

⸻

🔗 INTEGRATIONS
•Firebase (Auth, Firestore, Functions)
•Google Calendar, Maps API
•WhatsApp/SMS Invite Links (deep link fallback)
•Stripe/Apple Pay/Google Pay (Premium tiers)

⸻

🚦 ENVIRONMENT FLAGS
•.env.dev, .env.prod supported via flutter_dotenv
•flavors: setup planned (dev, staging, prod)

⸻

📎 NOTES FOR CODEX
•No external fetches – all logic must derive from R1–R4 or visible codebase
•Assume main branch reflects latest canonical structure
•Codex should not auto-infer missing access rules, platform logic, or dependencies – these are explicitly defined in docs/R1–R4

⸻

Last updated: 2025-06-05

אשר כשמוכן להמשיך ל־R4.
